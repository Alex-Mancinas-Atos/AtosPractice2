{"dependencies":[{"name":"axios","loc":{"line":7,"column":40}}],"generated":{"js":"\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst axios_1 = __importDefault(require(\"axios\"));\nlet currentPage = 0;\nconst itemsPerPage = 25;\nfunction paginateItems(page) {\n    currentPage = page;\n    console.log(currentPage);\n    const init = page * itemsPerPage;\n    const limit = (page * itemsPerPage) + 24;\n    extractData(paisesData, init, limit);\n}\nlet order = false;\nconst url = \"https://restcountries.com/v3.1/all\";\nlet paisp = document.getElementById(\"pais\");\nlet paisesData;\naxios_1.default\n    .get(url)\n    .then((reponse) => {\n    paisesData = reponse.data; // * @ referenced array\n    const { length } = paisesData;\n    sortArray(paisesData);\n    paginationItems(length);\n    extractData(paisesData);\n})\n    .catch((err) => console.log(err));\nconst paginationItems = (arrayLength) => {\n    const pages = Math.ceil(arrayLength / itemsPerPage);\n    const fatherElement = document.getElementById('pagination');\n    for (let j = 0; j <= pages - 1; j++) {\n        const newButtonId = `${j}-pagination-btn`;\n        const button = document.createElement('button');\n        button.innerHTML = `${j + 1}`;\n        button.id = newButtonId;\n        button.onclick = paginateItems.bind(this, j);\n        fatherElement.appendChild(button);\n    }\n};\nconst extractData = (paisesData, init = 0, limit = 24) => {\n    let body = \"\";\n    for (let i = init; i <= limit; i++) {\n        const languages = Object.keys(paisesData[i].languages || {}).map((key) => paisesData[i].languages[key]);\n        body += `<tr>\n            \n            <td onclick=()>${paisesData[i].name.official}</td>\n            <td>${paisesData[i].capital}</td>\n            <td>${paisesData[i].region}</td>\n            <td >${reduceToString(languages, \"No capital\")}</td>\n            <td>${paisesData[i].population}</td>\n            <td><img src=\"${paisesData[i].flags.png}\"></td>\n            \n        </tr>`;\n    }\n    document.getElementById(\"data\").innerHTML = body;\n};\nlet reduceToString = function reduceToString(str_arr, default_message) {\n    const valid_array = typeof str_arr === \"object\" && str_arr.length > 0;\n    return valid_array\n        ? str_arr.reduce((f, l) => `${f}, ${l} `)\n        : default_message;\n};\nconst sortAsc = (a, b) => a.name.official.localeCompare(b.name.official);\nconst sortDesc = (a, b) => b.name.official.localeCompare(a.name.official);\nfunction sortArray(paisesData) {\n    paisesData.sort(sortAsc);\n}\nconst sort = ($e) => {\n    $e.preventDefault();\n    paisesData.sort(order ? sortAsc : sortDesc);\n    paginateItems(currentPage);\n    order = !order;\n};\n(_a = document.getElementById('orderArray')) === null || _a === void 0 ? void 0 : _a.addEventListener('click', sort);\n"},"hash":"9e0ef49d1fac6449b89d26045843bd5b"}